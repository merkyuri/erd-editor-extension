# ERD Editor-Schema Helper

> **Entity Relationship Diagram Editor VS Code Extension**

<br>

## 📍 About the Project

**ERD Editor-Schema Helper**는 보다 쉽게 DB 스키마 모델링을 도와주는 VS Code Extension 입니다.

그래프 서술 언어인 DOT language로 다이어그램을 그리는 Graphviz와 이를 사용해서 Entity를 그려내는 ERD program, 이 두 오픈소스 프로그램을 VS Code Webview로 불러와 **시각화된 다이어그램을 보여주는 기능**을 하고 있습니다.

<br>

**🔸 기술 스택은 다음과 같습니다.**

- Javascript
- React
- Redux Zero
- Node.js
- 그 외에도...
  - VS Code Extension API
  - Graphviz & ERD program

<br>

**🔸 주요 기능은 다음과 같습니다.**

- **VS Code 내에서** 다이어그램 프리뷰 웹뷰를 뛰워줍니다.
- 그래프 서술 언어인 **DOT language**로 작성합니다.
- Entity 이름을 입력해서 다이어그램을 생성할 수 있고, 속성을 추가할 수 있습니다.
- Background color를 지정해줄 수 있습니다.
- 속성에 라벨을 붙여서 속성 타입에 대한 정보를 추가할 수 있습니다.
- 기본 키와, 외래 키를 구분 할 수 있습니다.
- 1:1, 1:N, 자기 참조 등 **relationship을 정의**할 수 있습니다.
- PDF 파일로 시각화된 **다이어그램을 저장**할 수 있습니다. (다른 파일로 저장하도록 추가 구현 예정.)

<br>
<br>

## 🗓️ 작업 기간

> 2022.02.21 ~ 2022.03.13

<br>

### 프로젝트 기획

---

🔹 02. 21 ~ 02. 28

- 아이디어 구상 및 검토
- 기술 스택 조사 및 공부

<br>

### 개발 단계

---

🔹 03. 01 ~ 03. 16

- 기능 구현
- 리팩토링 및 버그 이슈 해결
- 리드미 및 소개 페이지 작성

<br>
<br>

## ☕ 프로젝트 동기

서버 개발을 하면서 MongoDB, mongoose로 데이터를 관리했는데, 어려웠던 부분 중 하나가 바로 스키마를 디자인 하는 것이었습니다. NoSQL(비관계형) DB라서 관계형 데이터에 비해서 좀 더 수월할 것 같다는 초반 생각과는 달리 Entity마다 어떤 속성이 들어가야 하고 서로 다른 Entity끼리 어떻게 연관된 데이터를 참조시켜야할지, relationship은 어떻게 정의해야할지 개발을 진행하면서도 몇 번씩 수정을 했던 경험이 있습니다.

<br>

이러한 어려움을 살짝 해소시켜주는게 바로 다이어그래밍 툴을 제공하는 웹사이트였습니다. 원하는 갯수만큼 Entity를 생성한 다음 원하는 속성과 타입을 지정해줄 수 있기 때문에 필수적인 과정이었습니다. 이러한 웹사이트는 협업 기능도 제공하고 있어서 팀 프로젝트를 하면서 유용하게 사용했지만, 코드와 웹 사이트를 번갈아 가면서 봐야하는 불편함도 있었습니다.

<br>

프로젝트 아이디어를 구상하는 과정에서 조금 특별한 프로젝트를 진행해보고 싶다는 욕심도 있었고 좋은 아이디어도 떠오르지 않았는데, 문득 그동안 개발 공부와 팀 프로젝트를 진행하면서 느꼈던 점 중 하나가 앞으로 무언가 만들 때 나 스스로도 내가 개발한 어떤 것이든 계속해서 이용하고 싶은걸 만들어보고 싶다고 생각했었고 이번 개인 프로젝트 때는 개발자 툴을 만들어보면 어떨까 하고 생각하게 되었습니다.

<br>

그래서 최종적으로 생각하게 된 것이, **코드 에디터 내에서 다이어그래밍을 시각화 시켜주는 툴을 개발해보면 어떨까** 였고, 많은 개발자들에게 사랑받는 VS Code Extension을 제작해보자 하여 이 프로젝트를 시작하게 되었습니다.

<br>
<br>

## 🧭 Extension Guide

(현재 Marketplace 미등록)

- [Graphviz](http://www.graphviz.org/download/) & [ERD program](https://github.com/BurntSushi/erd) 설치 후 VS Code `setting.json`에서 구성 속성 추가
  <br>

  ```json
  "erdEditorSchemaHelper.erdPath": "/User/path",
  "erdEditorSchemaHelper.graphPath": "/User/path",
  ```

- `shift+cm+p` 단축키로 command palette에서 'ERD Editor-Schema Helper: Open ERD preview' 검색, Enter로 실행
- sample guide 참고해서 Entity 생성
- (pdf로 저장) command palette에서 'ERD Editor-Schema Helper: Save as PDF' 실행

<br>
<br>

## 🪵 Log

### **🔸 Javascript? Typescript?**

VS Code Extension API는 타입스크립트로 만들어졌고 아무래도 extension이기 때문에 다른 사용자들이 사용할 때 보다 버그가 적어야했고, 또 완성도를 위해 개발 초기에는 타입스크립트로 시작하려고 했습니다. 그러나 API도, 타입스크립트도 learning curve가 제게는 컸고, 둘 다 이번에 처음 도전해보기 때문에 타입스크립트로 진행 시 타입스크립트의 장점을 잘 살리지 못할 것 같아서 **최종적으로 자바스크립트로 진행**하게되었습니다.

개발을 마치고 나니 물론 아쉬움이 배로 남았습니다. 자바스크립트로 개발을 하다보니 워낙 보기 드믄 API 레퍼런스 또한 갯수가 더 적어지고, 타입을 따로 지정해주지 않으니 코드 내에서 헷갈림을 겪는 경우도 잦았습니다. 타입스크립트로 작성된 다른 코드들을 보면서 시간은 조금 걸리겠지만 한 번 정의를 해두니 코드가 더 깔끔해지는 느낌도 받았습니다. 그래서 나중에 꼭 타입스크립트에 익숙해지면 타입스크립트로 바꿔보고픈 계획도 세우게 되었습니다.

<br>
<br>

### **🔸 OOP (Object Oriented Programming: 객체 지향 프로그래밍)**

이번 프로젝트에서 자바스크립트로 Class 문법을 써서 유지 보수와 코드 재사용성을 높이는 객체 지향 프로그래밍에 도전하였습니다. 제대로 사용하고 있는건지에 대한 확신이 잘 서지 않을 때가 있었는데 상속 관계를 통해서 중복되는 코드를 줄이게 되고 그로인해 **유지 보수성에 대한 중요성**을 더 깊이 깨달을 수 있었습니다.

<br>
<br>

### **🔸 How to reduce the file size of the extension?**

개발 동안에 고려하게 된 점 중 하나가 바로 파일 크기였습니다. 저는 개인적으로 제 디바이스의 용량을 많이 차지하는 앱을 그렇게 선호하지 않는 편이고 그래서 주기적으로 필요없는 데이터나 크기가 큰 파일 등을 정리하는 편입니다. 아무래도 여러 사용자가 이용할 extension이다보니 비교적 가벼워야겠다고 생각했습니다. 초반에 React로 다이어그램을 생성하는걸 직접 구현하려 했을 때 점점 파일의 무게가 무거워지는걸 보면서 이게 맞나 싶기도 했습니다. 다른 extension을 보니 많은 개발자 분들이 React의 가벼운 대체 프레임워크 Preact를 선택해서 개발을 하시는걸 보게 되었습니다. 구현 방식이 거의 비슷하지만 Extension API 공부에 매진하느랴 익숙한 React로 개발을 하게 되었는데 대신 **상태 관리 라이브러리로 Redux Zero를 선택**하였습니다.

**Redux Zero**는 단일 스토어와 0개의 리듀서(리듀서가 없음)로 된 lighweight state container입니다. 물론 리덕스 자체도 매우 가벼운 편이라 놀랐었는데 크기 외에도 비교적 간단하게 상태를 관리 할 수 있다는 점에서 Redux Zero의 도입은 만족스러웠습니다. Redux를 제대로 사용하는걸 어려워하던 제게 dispatcher나 reducer를 고려하지 않고 그저 **action만 추가해서 component에서 불러와서 사용**해준다는 점에서 크게 매력적으로 느껴졌습니다. 또한 webview에서 보여주는 previewer이기 때문에 단순 상태 변경만 주는 것도 어쩌면 가장 어울리는 선택지가 아니었나 하고 생각합니다.

<br>
<br>

## ✍️ Last but not least...

부트캠프를 마치면서 진행한 개인 프로젝트는 제 개발 공부 시작 이후로 처음 도전해보는 것들 투성이라 개발 내내 어려움을 많이 겪었습니다. 그동안은 턱 끝까지 힘듬이 느껴지더라도 포기하고 싶은 마음을 꾹 참고 버텨나갔는데, 이번 프로젝트 기간동안은 누구에게도 도움을 요청할 수 없고 혼자서 구현해나가야 하는 현실은 마치 망망대해에 던져진 것과 같은 느낌을 받았습니다. 저도 서비스나 게임 같은 개발을 해보고 싶었지만 막상 떠오르는 좋은 아이디어가 없어서 개발 첫 주 아이디어 구상부터 어려움을 겪었습니다. 그러다 문득, **개발 공부 하면서 가장 많이 배움을 습득한다고 느꼈을 때는 바로 새로운걸 배울 때, 그리고 그걸 스스로 해결했을 때라고 생각**이 들었고 다수의 사람들이 가지않는 길을 걸어보자 라는 생각으로 개발자 툴을 만들어보자! 라는 마음으로 개인 프로젝트를 시작하게 되었습니다.

<br>

초반의 마음 가짐과는 달리 하루하루 시간이 흐르며 기술 공부 그리고 개발 도중에도 계속 나와의 협상을 하게 되는 일도 빈번했습니다. 앞으로 헤쳐나가야 할 것들이 많기에 이 정도만 해도 되겠지, 이 부분은 어려우니깐 빼자 혹은 다른걸로 대체하자, 이런거는 내가 구현할 수 없으니깐 라이브러리를 써야지 라는 식의 마인드로 구현을 목적으로 조금 더 쉬운 방향으로의 타협점을 찾으려다보니 뒤늦게 과연 나는 무엇을 위해서 개발을 하고 있지 하는 생각이 들었습니다. 더 나은, 성장하는 개발자로서의 길이 아닌 그저 코딩을 하는 사람이 되고 있지는 않나 라는 생각이 들었고 그걸 깨달은 시점을 기점으로 최대한 어떤 것이든 나의 능력 밖의 일이라는 생각을 버리고 조금 더 나은 코드를 구현하기 위해서 집중하려 했던 것 같습니다.

<br>

최근에 Golden Circle Theory에 대해 알게 되었는데, 간단히 설명하자면 대부분의 사람들이 What(무엇을)-How(어떻게)-Why(왜) 라는 방식으로 사고하는 반면, 세상을 바꾸는 리더들은 그 반대로 Why-How-What의 방식으로 문제를 접근한다고 합니다. 이에 영감을 받아서 현 시점에서 할 수 있는 질문: 나는 “왜" 이 프로젝트를 진행했나- 에 대한 답변을 하게 되자면 이렇게 말할 수 있을 것 같습니다.

**‘사람들이 필요로 하고 도움이 되는 프로그램은 더 나은 세상을 제공한다고 믿기 때문에.’**

이 extension을 개발함으로써 누군가 스키마를 모델링 할 때 도움이 된다면 저는 그 사실만으로도 뿌듯함을 느끼겠고, 그 누군가가 세상을 바꿀만한 프로그래밍을 하는 개발자의 길을 걷는데 도움을 줄 수 있을지도 모르겠죠. 아직 공부하는 학생에 불과하지만 학생의 패기로 감히 이런 큰 꿈을 꿔봤습니다 :) 많은걸 깨닫는 프로젝트였던 것 같습니다.
